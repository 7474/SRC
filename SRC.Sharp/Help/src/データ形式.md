** 内容はSRC2.2.33のものです **

**データ形式**

SRCではすべてのデータが自作可能です。各種データの形式は[テキストデータ](テキストデータ.md)、ビットマップファイル、WAVEファイル、MIDIファイルなど、Windowsにおいて標準的な形式のものであり、特殊なツールを使うことなく作成・修正することができます。

**(1)基本データ**

SRCにおけるデータは作品ごとに分割されています。個々の作品のデータは次のデータから構成されています。

[**パイロットデータ**](パイロットデータ.md)ユニットに乗るパイロットのデータ（pilot.txt）

[**非戦闘員データ**](非戦闘員データ.md)ユニットに乗らない非戦闘員のデータ（non\_pilot.txt）

[**ユニットデータ**](ユニットデータ.md)ユニットのユニットデータ（unit.txt or robot.txt）

[**メッセージデータ**](メッセージデータ.md)戦闘時に表示されるメッセージのデータ（pilot\_message.txt）

[**ダイアログデータ**](ダイアログデータ.md)複数の話者による戦闘メッセージのデータ（pilot\_dialog.txt）

[**戦闘アニメデータ**](戦闘アニメデータ.md)汎用戦闘アニメを使った戦闘アニメ表示を指定するデータ（animation.txt）

[**特殊効果データ**](特殊効果データ.md)戦闘時の効果音やシステムメッセージ等の特殊効果のデータ（effect.txt）

[**アイテムデータ**](アイテムデータ.md)ユニットが装備するアイテムのデータ（item.txt）

[**スペシャルパワーデータ**](スペシャルパワーデータ.md)パイロットが使用するスペシャルパワーのデータ（sp.txt）

[**エリアスデータ**](エリアスデータ.md)特殊能力のエリアスデータ（alias.txt）

[**地形データ**](地形データ.md)マップ上の地形のデータ（terrain.txt）

バトルコンフィグデータ戦闘結果計算式のデータ（battle.txt）

これらのデータは作品ごとにまとめられDataフォルダ内に作られた各フォルダに格納されます(地形データのみ例外)。データは以下の優先順位で使用されます。



**(1) シナリオのあるフォルダ\Data**

**(2) シナリオのあるフォルダ\Data\作品名**

**(3) ExtDataPathで設定されたフォルダ\Data\作品名**

**(4) ExtDataPath2で設定されたフォルダ\Data\作品名**

**(5) Src.exeのあるフォルダ\Data\作品名**

![](./images/bm0.gif) 同じ作品のフォルダが複数あった場合、優先順位の高いフォルダのデータのみが読み込まれます。

上記の基本データはすべて標準のテキストファイル(.txt)からなる[テキストデータ](テキストデータ.md)です。テキストファイルはWindowsに付属しているメモ帳でも扱えますが、メモ帳は機能が限られており、扱えるファイルサイズに制限があるので、より高機能なテキストエディタを使うことを強くお勧めします。

これらのデータには行頭を「#」から始めることでコメント行を追加することが出来ます。コメント行はデータ読み込みの際に存在しないものとして扱われます。行の途中からコメントを始めたい場合は「//」を使います。「//」以降の文字は読み込みの際に無視されます。

データの各行が長くなりすぎた場合は行を複数行に分割することが可能です。行を途中で改行した後、改行した部分の行末に「\_」をつけて下さい。「\_」と改行が読み込みの際に無視されます。

**(2)画像データ**

SRCでは以下の種類の画像データを使用します。画像データはBitmapフォルダ内の各フォルダに一括して格納されます(データファイルと違って作品ごとには分割されません)。

**種類サイズフォルダ**

**パイロット**32X32(64X64)Bitmap\Pilot

**ユニット**32X32Bitmap\Unit

**マップ**32X32Bitmap\Map

**イベント**任意Bitmap\Event

**カットイン**任意Bitmap\Cutin

**戦闘アニメ**任意Bitmap\Anime

画像が使用される優先順位は以下のようになっており、シナリオフォルダのものが最優先されます。

**(1) シナリオのあるフォルダ\Bitmap**

**(2) ExtDataPathで設定されたフォルダフォルダ\Bitmap**

**(3) ExtDataPath2で設定されたフォルダフォルダ\Bitmap**

**(4) Src.exeのあるフォルダ\Bitmap**

画像データのファイル形式として**ビットマップ**形式(.bmp)、**JPEG**形式(.jpg)、**GIF**形式(.gif)、**PNG**形式(.png)をサポートしています。ただしパイロット画像、ユニット画像、マップ画像はビットマップ形式しか使用できません。画像の色数には規定はありませんが、透過表示を行う際には256色以下にする必要があります。このため、ユニット画像については256色のビットマップ形式にする必要があります。

画像作成用ツールとしてお勧めのものは D-Pixed です。256色の画像に特化して作られており、大変使いやすくなっています。

DOIchan!'s Home Stadium（http://doichan.netbank.co.jp/）で入手することができます。

**(3)効果音データ**

SRCでは効果音データとして**WAVE**ファイル(.wav)を使用します。WAVEファイルはSoundフォルダ内に一括して置かれます。本体側・シナリオ側のどちらに置いていても使用可能です。下記の優先度で検索されます。

**(1) シナリオのあるフォルダ\Sound**

**(2) ExtDataPathで設定されたフォルダ\Sound**

**(3) ExtDataPath2で設定されたフォルダ\Sound**

**(4) Src.exeのあるフォルダ\Sound**

**(4)MIDIデータ**

BGM用の**MIDI**ファイル(.mid)はMidiフォルダ内に配置します。これも本体側・シナリオ側のどちらに置いていても使用可能です。

**(1) シナリオのあるフォルダ\Midi**

**(2) ExtDataPathで設定されたフォルダ\Midi**

**(3) ExtDataPath2で設定されたフォルダ\Midi**

**(4) Src.exeのあるフォルダ\Midi**

いくつかのMIDIファイルはSRCのシステム側でファイル名が決められています。

**起動時**Opening.mid

**味方フェイズBGM**Map1.mid

**敵フェイズBGM**Map2.mid

**味方フェイズBGM（屋内）**Map3.mid

**敵フェイズBGM（屋内）**Map4.mid

**味方フェイズBGM（宇宙）**Map5.mid

**敵フェイズBGM（宇宙）**Map6.mid

**プロローグ・エピローグ**Briefing.mid

**インターミッション**Intermission.mid

**テロップ**Subtitle.mid

**ゲームオーバー時**End.mid

**戦闘時デフォルトBGM**default.mid

([Src.ini](設定変更.md)で設定を行ったり[RenameBGMコマンド](RenameBGMコマンド.md)を使って使用されるファイル名を変更することも可能です。)

これ以外のMIDIファイルについてはデータ毎にファイル名が決められています。各データで使われているMIDIファイル名を直接調べるか、シナリオの注意書きやSRC向けにMIDIを公開しているホームページなどを参照して下さい。

**(5)MP3データ**

SRCでは**MP3**ファイル(.mp3)をMIDIファイルやWAVEファイルの替わりに使うことが出来ます。BGMに使うMP3ファイルはMIDIファイルと同じくMidiフォルダ内に、効果音に使うMP3ファイルはWAVEファイルと同じくSoundフォルダ内に置いてください。

MP3ファイルはＢＧＭ用ファイル検索の際にMIDIファイルより高い優先度を持ちます。MIDIファイルとファイル名が同しで拡張子だけが異なるMP3ファイルがMidiフォルダにある場合、MIDIファイルの替わりにMP3ファイルが再生されます。

**例** Alice.mp3 と Alice.mid があれば Alice.mp3 が再生される

MP3ファイルが効果音用に使われる場合はこのような優先付けされた検索は行われません。ファイル名にMP3ファイルのファイル名をそのまま指定する必要があります。

MP3ファイルの再生にはかなりのマシンパワーが必要です。また、環境によってはWAVEファイルと同時再生出来ず、MP3ファイルを再生している間は効果音が鳴らなくなってしまう場合があります。MP3ファイルを使用される際にはご注意ください。

MP3ファイルをＢＧＭと効果音の両方に使用する場合、MP3ファイルの効果音が再生されるとＢＧＭのMP3ファイルの再生は中断されてしまうので注意して下さい。

**(6)シナリオデータ**

シナリオ用に使われるのは以下の２つのデータです。

[**イベントデータ**](イベントデータ.md)１つのステージの各種のイベントを定義したデータ(.eve)

[**マップデータ**](マップデータ.md)戦闘時のマップデータ(.map)

イベントデータは拡張子が".eve"になっていますが、実際にはテキストファイルです。メモ帳やテキストエディタで編集することができます。シナリオを作成しようという人はファイルの関連付けを変更してイベントデータを直接編集できるようにしておくと便利です。

**ファイルの関連付けの方法**

.eve ファイルをShiftキーを押しながら右クリックして

「アプリケーションから開く」

を選択した後、

「この種類のファイルを開くときは、いつもこのアプリケーションを使う」

を選択し、メモ帳かテキストエディタを選ぶ

マップデータは付属のMapEdit.exeで変更・作成することができます。
