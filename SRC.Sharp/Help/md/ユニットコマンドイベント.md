** 内容はSRC2.2.33のものです **
**ユニットコマンドイベント**

ユニットコマンドメニューに独自のコマンドを追加するためのイベント

**書式**

**ユニットコマンド** *command unit*  [*condition*]:

**指定項目説明**

*command*追加するコマンド名

*unit*コマンドを実行するユニットの[メインパイロット名](メインパイロット名.md)またはユニット名称

(この場合、対象となるユニットが味方である場合にのみコマンドが使用可能)

またはユニットの[陣営名](陣営名.md)

または「全」(全てのユニットが使用可能)

*condition*ユニットコマンド使用の条件式(省略可能)

**解説**

プレイヤーが *unit* に対してユニットコマンドメニューからユニットコマンド *command* を実行したときに発生します。**ユニットコマンドイベント**はいくつでも定義できますが、同時にメニューに表示されるのは10個までです。

実行後に行動終了するユニットコマンドは[**Finish**コマンド](Finishコマンド.md)やAction関数を利用すれば実現できます。

特定の条件を満たしたときにのみマップコマンドを使えるようにするには条件式 *condition*を指定します。*condition*の値が0でないときにのみコマンドがメニューに表示されます。*condition*の評価時にはプレイヤーが選択したユニットがデフォルトユニットとして設定されています。*condition*を省略した場合は常にコマンドが表示されます。

ユニットコマンドイベントとして追加したユニットコマンドは移動後や行動後には使用できません。これを使用可能にするにはイベントラベルの先頭に「\*」や「-」を付けて下さい(他のイベントのイベントラベルと違って「\*」が付いても常時イベントラベルにはならないので注意して下さい。)

**\*ラベル名:**移動後も使用可能

**\*-ラベル名:**同上

**-\*ラベル名:**行動終了後も使用可能

**\*\*ラベル名:**移動後、行動終了後も使用可能

**例** -\*ユニットコマンド ステータス表示 全:

また、**ユニットコマンドイベント**を[**プロローグイベント**](プロローグイベント.md)中で[**ClearEvent**コマンド](ClearEventコマンド.md)を使って消去しておき、条件を満たした際に[**RestoreEvent**コマンド](RestoreEventコマンド.md)で復活させるという方法もあります。

ユニットコマンドの実行をキャンセルしたい場合はイベント中に[**Cancel**コマンド](Cancelコマンド.md)を実行して下さい。ユニットコマンドイベント終了後にユニットコマンド選択モードに戻ります。

**例**
```sh
#プレイヤーがユニットコマンド「隠し芸」を実行した場合
#(舞が気力110以上の場合にのみコマンドが表示される)
ユニットコマンド 隠し芸 舞 (Morale() &gt; 110):
Talk 舞
ええっ！ 隠し芸！？ ええと…… 一番、如月舞、歌います
……ってなんなのよ！ このコマンド！
End
#1回限りのコマンドなのでイベントを消去
ClearEvent
イベントを終了
Exit
```

