**戦闘システム詳細**

ここでは命中率やダメージの算出方法など、SRCで採用されている戦闘システムの詳細について解説します。データ作成の際の参考にして下さい。

**攻撃の命中率**

攻撃をかけた際の命中率の基本値は

(100 ＋ 攻撃側の命中値 － 防御側の回避値) × 地形命中率修正 × サイズ補正

**命中値）**

パイロット命中 ＋ パイロット反応 ＋ ユニット運動性 ＋ 武器命中率

**回避値）**

パイロット回避 ＋ パイロット反応 ＋ ユニット運動性

という式で決定されます。これに底力等の命中・回避率に影響する特殊能力の修正が加わり、最終的な命中率が決定されます。

**☆地形命中率修正**

地形補正は地形の種類ごとに定められています。平地など防御効果が得られない地形では1、基地などの防御効果が高い地形では最大0.7の地形補正がかかります。詳しくは[マップデータ](マップデータ.md)のページを参照して下さい。なお、ユニットが空中等の地形効果を得られない位置にいる場合は地形補正が1として計算されます。

**☆サイズ補正**

ターゲットのユニットのサイズによって修正率が異なります。Mサイズが基本となり、それよりサイズが大きいと命中率が増加し、小さいと減少します。

**サイズ補正**

**XL**2

**LL**1.4

**L**1.2

**M**1

**S**0.8

**SS**0.5

**☆「地形適応命中率修正」オプション**

[**Option**コマンド](Optionコマンド.md)の「地形適応命中率修正」オプションがシナリオで設定されていた場合、命中率の修正に地形適応による修正が加わります。

(100 ＋ 攻撃側の命中値 － 防御側の回避値) × 地形命中率修正 × 地形適応 × サイズ補正

地形適応の計算方法については下の攻撃のダメージの項目を参照して下さい。

**攻撃のダメージ**

攻撃によるダメージ量の基本値は、

(攻撃側の攻撃力 － 防御側の防御力) × 地形ダメージ修正

**攻撃力）**

武器攻撃力 × パイロット攻撃力/100 × [気力](気力.md)/100 × 地形適応

**防御力）**

装甲 × 気力/100 × 地形適応

という式で決定されます。これにシールドやフィールドといったダメージ減少系防御能力の修正や耐性、弱点といった防御特性による修正が加わり、最終的なダメージが算出されます。

式を見ると分かるように、攻撃力の計算式にはパイロット能力値(攻撃力)が含まれていますが、防御力には含まれていません。このため、パイロットのレベルが上がると攻撃力が増加するのに対して防御力は一定のままです。従ってシナリオが終盤になりパイロットのレベルが上がってくると、攻撃力が防御力と比較して上がりすぎてしまい、ダメージがインフレを起こす現象が見られます。これを防ぐために[**Option**コマンド](Optionコマンド.md)のオプション「防御力レベルアップ」が用意されています。

**☆地形ダメージ修正**

地形補正は地形の種類ごとに定められています。平地など防御効果が得られない地形では1、基地などの防御効果が高い地形では最大0.7の地形補正がかかります。詳しくは[マップデータ](マップデータ.md)のページを参照して下さい。なお、ユニットが空中等の地形効果を得られない位置にいる場合は地形補正は1として計算されます。

**☆パイロットの攻撃力**

パイロットの攻撃力には格闘攻撃力と射撃攻撃力の2種類がありますが、基本的に射程が1の武器には格闘攻撃力が、射程が2以上の武器には射撃攻撃力が適用されます。ただし、武器属性「格」「射」「複」の指定がある武器は指定された攻撃力の指定に合わされます。

**☆地形適応**

地形適応に対する修正率は攻撃側、防御側で共通であり、以下のように設定されています。

"S"=1.4, "A"=1.2, "B"=1, "C"=0.8, "D"=0.6, "-"=0

ただし、この値は[**Option**コマンド](Optionコマンド.md)の設定により変化します(後述)。

攻撃力に対する地形適応は武器とユニットの地形適応のうち最も低いものが適用され、防御力に対する地形適応はユニットのデータの地形適応が適用されます。

ユニットの地形適応はユニットデータ及びメインパイロットのパイロットデータの地形適応のうち、いずれか低いものが使われます(後述する「地形適応総和計算」オプション使用時は異なる)。

ユニットの地形適応は自分がいる場所の地形に対する適応が使われますが、武器の地形適応は相手のいる場所の地形に対する適応が使われます。ただし、「武」「突」「接」属性を持つ武器による攻撃の場合は攻撃側が防御側のいる場所まで移動して攻撃すると見なされるため、ユニット、メインパイロットの地形適応に関しても防御側ユニットのいる場所に対する適応が使われます。

**☆「地形適応総和計算」オプション**

[**Option**コマンド](Optionコマンド.md)の「地形適応総和計算」オプションがシナリオで設定されていた場合、ユニットの地形適応がユニットデータとパイロットデータの適応の平均から算出されるようになります。ただしいずれか一方でも「-」がある場合は常に「-」になります。

**例** パイロットデータがSAABでユニットデータがAACAならSABA

**☆「地形適応修正緩和」オプション**

[**Option**コマンド](Optionコマンド.md)の「地形適応修正緩和」オプションがシナリオで設定されていた場合、地形適応による修正量が緩和されます。具体的には段階ごとの差が 0.1 刻みになります。

"S"=1.2, "A"=1.1, "B"=1, "C"=0.9, "D"=0.8, "-"=0

**☆「地形適応修正繰り下げ」オプション**

[**Option**コマンド](Optionコマンド.md)の「地形適応修正繰り下げ」オプションがシナリオで設定されていた場合、地形適応による修正量が繰り下げられます。具体的には適応Aの値が1に設定されます。

"S"=1.2, "A"=1, "B"=0.8, "C"=0.6, "D"=0.4, "-"=0

上の「地形適応修正緩和」と併用する事も出来ます。

"S"=1.1, "A"=1, "B"=0.9, "C"=0.8, "D"=0.7, "-"=0

**☆「地形適応命中率修正」オプション**

[**Option**コマンド](Optionコマンド.md)の「地形適応命中率修正」オプションがシナリオで設定されていた場合、ダメージ計算の式から幾つかの地形適応による修正が削除されます。

具体的には攻撃力に対する地形適応が武器の地形適応のみから計算されるようになり、防御力に対して地形適応による修正が適用されなくなります(防御力 ＝ 装甲 × 気力/100)。

**攻撃のクリティカル・特殊効果発生率**

特殊効果を持たない武器で攻撃をかけた際に発生するクリティカルの確率は以下の式で決定されます。

(攻撃側の技量 － 防御側の技量) ＋ 武器のＣＴ率修正

クリティカルヒットが発生した場合、ダメージが通常の1.5倍に増加します。([**Option**コマンド](Optionコマンド.md)の「ダメージ倍率低下」オプション使用時には1.25倍)

これに対して武器が持つ特殊効果の発動率は以下の式で決定されます。上のクリティカルの発生確率に較べて技量の差による影響が低くなっています。また、防御側が「(ザコ)」の付いた名称を持つザコパイロットの場合は+30の対ザコ修正が加わります。

(攻撃側の技量 － 防御側の技量)/2 ＋ 武器のＣＴ率修正 ＋ 対ザコ修正

**☆対ザコ修正**

防御側が「(ザコ)」の付いた名称を持つザコパイロットの場合のみ +30 の修正。

特殊効果の発動は上記のクリティカルヒットの代わりと見なされるため、ダメージ量の増加は発生しません。

クリティカル・特殊効果発生の両確率は相手が行動不能等の状態にある場合、+10されます。
