**設定変更**

メッセージの表示速度やアニメの表示の切り替え等の各種設定を行います。変更した設定は後述する設定記録ファイル **Src.ini** にセーブされ、次回SRCを起動した時にもその設定が使用されます。

**メッセージスピード**

戦闘メッセージのウェイトを指定します。

**味方フェイズ開始時にターン表示を行う**

味方フェイズ開始時にターン数を表示するかどうか指定します。

**マス目を表示する** (要再起動)

マップ上にマス目を表示するかを指定します。

**敵フェイズ中にＢＧＭを変更しない**

敵フェイズの戦闘時にＢＧＭを変更せず、敵フェイズＢＧＭのままにするかどうかを指定します。

**MIDI音源リセットの種類**

ＢＧＭ用MIDIファイル再生前に使用する音源リセットデータの種類を指定します。使っている音源に合わせてGM、GS、XG、Noneのいずれかを指定して下さい。Noneは音源リセットを使わないための設定です。

**MIDI演奏にDirectMusicを使用する** (要再起動)

MIDIファイルをDirectMusicを使って再生するかどうか指定します。PCによってはDirectMusicを使うと正しく再生が行えない場合があるので、その場合はこの項目を「Off」に設定して下さい。

なお、WindowsXPやWindows2000ではDirectMusicを使わないとMIDI切り替えの際に非常に時間がかかるため、「On」にすることをお勧めします。

**MP3音量**

MP3ファイル再生時のボリュームを0～100までの値で指定します。

**マウスカーソルを自動的に移動する**

自動カーソル移動モードを使うかどうかを指定します。Onにするとコマンド選択時にマウスカーソルが自動的にダイアログまで移動します。

**スペシャルパワーアニメを表示する**

[スペシャルパワー](スペシャルパワー.md)使用時にアニメーションを表示するかどうかを指定します。

**戦闘アニメを表示する**

戦闘時に汎用戦闘アニメを使ったアニメーションを表示するかどうかを指定します。

**武器準備アニメを表示する**

汎用戦闘アニメを自動選択する際に武器準備のアニメーションを表示するかどうかを指定します。

**移動アニメを表示する**

ユニット移動時にアニメーションを表示するかどうかを指定します。

項目のうち「要再起動」と書かれているものはSRCの再起動後に設定が有効になります。

Src.ini内のいくつかの項目は**設定変更**コマンドから変更出来ないようになっています。これらの項目を変更する場合は直接Src.iniを書き換えてください。

**設定記録ファイル Src.ini**

SRCは各種の設定を保存するためのファイルとして Src.ini ファイルを使っています。Src.ini は Src.exe と同じフォルダにあります。Src.iniには下記の設定が含まれています。これらの設定の多くはマップコマンド「設定変更」から変更可能になっています。項目の名称の右の括弧内にかかれているのは標準の設定値です。

**MessageWait** (700)

戦闘メッセージのウェイトを指定します。

**Turn** (Off)

味方フェイズ開始時にターン数を表示するかどうか指定します。

**Square** (Off)

マップ上にマス目を表示するかを指定します。

**KeepEnemyBGM** (Off)

敵フェイズの戦闘時にＢＧＭを変更せず、敵フェイズＢＧＭのままにします

**AutoDefense** (Off)

[自動反撃モード](自動反撃モード.md)を使うかどうかを指定します。マップコマンド[自動反撃モード](自動反撃モード.md)でも変更できます。

**AutoMoveCursor** (On)

自動カーソル移動モードを使うかどうかを指定します。Onにするとコマンド選択時にマウスカーソルが自動的にダイアログまで移動するようになります。

**SpecialPowerAnimation** (On)

[スペシャルパワー](スペシャルパワー.md)使用時にアニメーションを表示するかどうかを指定します。

**BattleAnimation** (On)

戦闘時に汎用戦闘アニメを使ったアニメーションを表示するかどうかを指定します。

**WeaponAnimation** (On)

汎用戦闘アニメを自動選択する際に武器準備のアニメーションを表示するかどうかを指定します。

**MoveAnimation** (On)

ユニット移動時にアニメーションを表示するかどうかを指定します。

**MidiReset** (None)

ＢＧＭ用MIDIファイル再生前に使用する音源リセットデータの種類を指定します。使っている音源に合わせてGM、GS、XG、Noneのいずれかを指定して下さい。Noneは音源リセットを使わないための設定です。

**UseDirectMusic** (WindosXP及びWindows2000ではOn;それ以外ではOff)

MIDIファイルをDirectMusicを使って再生するかどうか指定します。PCによってはDirectMusicを使うと正しく再生が行えない場合があるので、その場合はこの項目を「Off」に設定して下さい。

なお、WindowsXPやWindows2000ではDirectMusicを使わないとMIDI切り替えの際に非常に時間がかかるようになるので、「On」にすることをお勧めします。

**MIDIPortID** (0)

DirectMuiscでMIDIファイルを再生する際に使用されるMIDI音源のポート番号を指定します。自動選択を行う場合は0を設定します。自分で設定したい場合は、Src.exeを起動すると自動的に作成される「Midi\MIDI音源リスト.txt」を見て音源のポート番号を選んでください。

**MP3Volume** (50)

MP3ファイル再生時のボリュームを0～100までの値で指定します。

**ImageBufferNum** (64)

SRCは画像を画像バッファに保存することで画像描画を高速化しています。標準では64枚までの画像が保存されますが、本項目を変更する事で保存する画像の総数を変更可能です。

原画像以外にも部分画像(画像の一部を描画した場合)、加工画像(画像回転等の特殊処理を施した場合)、マスク画像(透過描画を行った場合、ただし後述するUseTranspearentBltオプションを使った場合は不要)がそれぞれ保存されるため、1枚の画像を表示した際に最大4枚の画像が保存されます。

画像バッファが一杯になった場合は最も長い間使用されていない画像がバッファから削除されます。

システムによっては画像バッファの枚数が多くなるとリソース不足から動作が遅くなる場合があります。このような場合はImageBufferNumの値を小さくしてください。

なおImageBufferNumに5未満の値を設定しても最低5枚の画像がバッファに保存されます。

**MaxImageBufferSize** (8)

画像サイズが大きな場合はメモリの枯渇を防ぐため、バッファに保存する画像数が制限されます。標準では8MBまでの画像が保存されますが、本項目を変更する事で保存する画像の総サイズを変更可能です。

本項目の単位はMBです。「MaxImageBufferSize=8」の場合は総サイズが8MBまでに制限されます。画像バッファは1ピクセルにつきメモリを3バイト消費します。(1MBは1024×1024バイト)

システムによってはバッファのサイズが大きくなるとメモリ不足から動作が遅くなる場合があります。このような場合はMaxImageBufferSizeの値を小さくしてください。

なおMaxImageBufferSizeに1未満の値を設定しても最低1MBのバッファが確保されます。

**KeepStretchedImage** (初回起動時に自動設定)

PCによっては画像の拡大処理に非常に時間がかかることがあります。このような場合に画像の拡大描画を高速化するため、本項目をOnに設定する事で拡大した画像及びそのマスク画像(透過描画の場合)を画像バッファに保存することが出来ます。

SRCは初回起動時に通常の描画と拡大描画の速度を比較し、通常の描画が拡大描画に較べて2倍以上速ければ本項目をOnに設定します。

なお、画像バッファの枯渇を防ぐため、同じ画像をサイズを変えながら連続して表示する場合は本項目をOnに設定していても拡大画像は保存されません。

**UseTranspearentBlt** (WindosXP及びWindows2000ではOn;それ以外では設定しない)

画像を透過描画する際にWindowsが持っている透過描画処理用のAPI関数「TranspearentBlt」を使うかどうか指定します。TranspearentBltはWindows2000以降のOSでのみサポートされているため、WindowsXP及びWindows2000でのみ利用可能です。従って本項目もWindowsXP及びWindows2000でしか選択されていません。なお、WindowsXP及びWindows2000ではTranspearentBltが標準で使用されます。

描画する画像のサイズや描画先のサイズによってはTranspearentBltを使わない方が高速に描画出来ることがあるため、本項目をOnにしていても透過描画の際に常にTranspearentBltが使われる訳ではありません。

**ExtDataPath** および **ExtDataPath2**

本体側以外のデータ・グラフィックのフォルダへのパスを指定します。開発パックのフォルダを指定すると良いでしょう。

開発パックのデータを使わない限り設定は不要です。

**例** ExtDataPath=C:\WINDOWS\ﾃﾞｽｸﾄｯﾌﾟ\Scenario\src\_expansion

**DebugMode** (Off)

デバッグモードを使うかどうかを指定します。デバッグモードの効果については[**Option**コマンド](Optionコマンド.md)を参照ください。

**Opening** (Opening.mid)

SRC起動時に再生されるMIDIファイル名を指定します。

**Map1** (Map1.mid)

味方フェイズ開始時に再生されるMIDIファイル名を指定します。

**Map2** (Map2.mid)

敵フェイズ開始時に再生されるMIDIファイル名を指定します。

**Map3** (Map3.mid)

屋内マップで味方フェイズ開始時に再生されるMIDIファイル名を指定します。

**Map4** (Map4.mid)

屋内マップで敵フェイズ開始時に再生されるMIDIファイル名を指定します。

**Map5** (Map5.mid)

宇宙マップで味方フェイズ開始時に再生されるMIDIファイル名を指定します。

**Map6** (Map6.mid)

宇宙マップで敵フェイズ開始時に再生されるMIDIファイル名を指定します。

**Briefing** (Briefing.mid)

プロローグ・エピローグ時に再生されるMIDIファイル名を指定します。

**Intermission** (Intermission.mid)

インターミッション時に再生されるMIDIファイル名を指定します。

**Subtitle** (Subtitle.mid)

テロップ表示時に再生されるMIDIファイル名を指定します。

**End** (End.mid)

ゲームオーバー時に再生されるMIDIファイル名を指定します。

**default** (default.mid)

戦闘時にパイロットデータに設定されたMIDIファイルが見つからない際にデフォルトで再生されるMIDIファイル名を指定します。

Src.iniはシナリオのあるフォルダ内に置くこともできます。この場合はシナリオのフォルダ側の設定が優先されます。ただし、この場合でも**設定変更**コマンドを使って設定を変更することは可能です。

シナリオのフォルダにSrc.iniを置く場合、Src.ini内には設定を変更したい項目のみを記述することが出来ます。ただし、その項目が所属するカテゴリー([]による指定)は省略できないので気をつけてください。

**例**

[Option]

WeaponAnimation=Off

[BGM]

Opening=はじまり.mid
