<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; UTF-8">
<TITLE>マップデータ</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<OBJECT TYPE="application/x-oleobject" CLASSID="clsid:1e2a7bd0-dab9-11d0-b93a-00c04fc99f9e">
	<PARAM NAME="Keyword" VALUE="マップデータ">
</OBJECT>

<MAP NAME="map_1">
	<AREA SHAPE="rect" COORDS="14,9,17,12" HREF="src9iph.htm">
	<AREA SHAPE="rect" COORDS="12,12,14,12" HREF="src9ipf.htm">
</MAP>

<P><A NAME=".2.met"></A></P>

<P><B>マップデータ</B></P>

<P>マップデータは戦闘用のマップを定義したものです。MapEdit.exeを利用して作成します。</P>

<P><B>MapEdit</B></P>

<P>MapEditの画面構成です。図の各部分をクリックするとその部分の説明を読むことができます。</P>

<P><IMG SRC="../images/bm23.gif" ALT="" USEMAP="#map_1" BORDER=0></P>

<P>基本操作は次の通りです。</P>

<P><B>左クリック</B><B>右クリック</B></P>

<P><B>マップウインドウ</B>地形描画地形をスポイト</P>

<P><B>地形グラフィック選択リスト</B>グラフィックを選択</P>

<P><B>地形タイプ選択リスト</B>地形を選択</P>

<P><B>全体マップウインドウ</B>画面を移動</P>

<P><B>Undoボタン</B>直前の状態に戻す</P>

<P><B>Copyボタン</B>コピー領域の選択を開始する</P>

<P><B>Pasteボタン</B>コピーした領域を書き込む</P>

<P>左クリックを押すことで選択した地形(右上の隅のウィンドウに描かれている地形)をマウスカーソルの地点に描画します。違うグラフィックを選択する場合は右の地形グラフィック選択ウインドウからクリックして選んで下さい。違う種類の地形のリストを出したい場合は、右端の地形タイプ選択ウインドウを使います。マウスの右ボタンにはスポイト機能が割り当てられています。このボタンを押すとマウスカーソル位置にある地形が選択されます。</P>

<P>マップの一部をコピーするにはCopyボタンを押してからマップウインドウ上でマウスの左ボタンを押し、そのまま左ボタンを押しつづけてマウスカーソルを動かしてコピーする領域を決めます。コピーしたい領域を囲えたらマウスボタンを離してください。選択した領域がコピーされます。この状態でもう一度左ボタンを押すと選択した領域をコピーして動かすことができます。コピーした領域を動かすにはPasteボタンを押してからマップウインドウ上でマウスの左ボタンを押します。そのままボタンを押しつづければ書き込む領域を表示させたままドラッグして移動させることができます。マウスボタンを離すと書きこみが行われます。</P>

<P>画面をスクロールするには３つの方法があります。</P>

<P>・マップウィンドウのスクロールバーを使う</P>

<P>・全体マップウィンドウをクリックもしくはドラッグ</P>

<P>・マウスカーソルをマップウィンドウ端でしばらく静止させる</P>

<P>作成したデータはファイルメニューから保存してください。マップデータのファイル名はイベントデータのファイル名と拡張子だけ異なるように統一しておく必要があります。</P>

<P>マップサイズの変更はファイルメニューからマップサイズ変更で行います。マップの幅、マップの高さは最低でもそれぞれ15必要です。マップサイズの上限は50×50に設定されていますが、マップサイズが大きくなるとマシンスペックによっては著しく処理速度が低下します。最大でも30×30程度にとどめておいた方が良いでしょう。</P>

<P>MapEditを立ち上げたときにはマップがマス目と一緒に表示されます。マス目の表示をなくしたい時にはメニューの「表示」=&gt;「マス目表示」を選んで表示を切り替えてください。</P>

<P>マップを描き始めるときは編集メニューから塗りつぶしを使うと便利です。</P>

<P>シナリオ側で地形データを定義している場合は一旦新規にマップデータを作成してシナリオフォルダにセーブした後、MapEditからマップデータを読み込んでください。</P>

<P><B>地形データ</B></P>

<P>マップ中で使用可能な地形は以下の通りです。データの意味は右から地形名、地形タイプ、移動コスト、命中修正、ダメージ修正、ＨＰ回復量、ＥＮ回復量、ビットマップ名となっています。</P>

<P>なお、<A HREF="src7cro.htm">地形データ</A>を使って独自の地形を定義したり、下記の地形データの内容を変更することも出来ます。</P>

<P>平地          陸1  +0  -0  +0  +0 plain</P>

<P>低木陸2  +5  -5  +0  +0 bush</P>

<P>林陸2 +15 -10  +0  +0 woods</P>

<P>大樹空1  +0  -0  +0  +0 big_tree</P>

<P>山陸3 +30 -30  +0  +0 mountain</P>

<P>砂地陸1  +0  -0  +0  +0 sand</P>

<P>砂漠陸2  +5  -0  +0  +0 desert</P>

<P>荒れ地陸1  +0  -0  +0  +0 waste_land</P>

<P>岩陸2  +5  -5  +0  +0 rock</P>

<P>丘陸2  +5  -5  +0  +0 hill</P>

<P>斜面陸2  +5  -5  +0  +0 slope</P>

<P>崖空1  +0  -0  +0  +0 cliff</P>

<P>洞窟陸2 +25 -25  +0  +0 cave</P>

<P>クレーター(地上)陸2 +20 -20  +0  +0 earth_crater</P>

<P>雪原陸2  +0  -0  +0  +0 snow</P>

<P>海水2  +5  -5  +0  +0 sea</P>

<P>湖水2  +5  -5  +0  +0 lake</P>

<P>沼水2  +5  -5  +0  +0 swamp</P>

<P>川水2  +5  -5  +0  +0 river</P>

<P>滝空1  +0  -0  +0  +0 fall</P>

<P>深海深水2 +25 -25  +0  +0 deep_sea</P>

<P>岩礁空1  +0  -0  +0  +0 rock_reef</P>

<P>道路陸1  +0  -5  +0  +0 road</P>

<P>道路(残骸)陸1  +0  -5  +0  +0 destroyed_road</P>

<P>橋陸1  +0  -5  +0  +0 bridge</P>

<P>線路陸1  +0  -5  +0  +0 railroad</P>

<P>街陸2 +25 -25  +0 +10 town</P>

<P>ビル陸2 +25 -25  +0 -10 building</P>

<P>高層ビル空1  +0  -0  +0  +0 skyscraper</P>

<P>基地陸2 +30 -30 +10 +20 base</P>

<P>研究所陸2 +30 -30 +10 +20 laboratory</P>

<P>発電所陸2 +15 -15 +0  +20 powerplant</P>

<P>城塞陸2 +30 -30 +10 +20 castle</P>

<P>防壁空1  +0  -0  +0  +0 barrier</P>

<P>廃墟陸2 +20 -20  +0  +0 remains</P>

<P>遺跡陸2 +25 -25  +0  +0 ruins</P>

<P>ミラー空1  +0  -0  +0  +0 mirror</P>

<P>空空1  +0  -0  +0  +0 sky</P>

<P>床屋内1  +0  -0  +0  +0 floor</P>

<P>壁空-  +0  -0  +0  +0 wall</P>

<P>入口屋内2  +5  -5  +0  +0 gate</P>

<P>机屋内3  +0  -0  +0  +0 desk</P>

<P>照明屋内1 -10  -0  +0  +0 light</P>

<P>障害物(小)屋内1  +5  -5  +0  +0 small_block</P>

<P>障害物(大)空1  +0  -0  +0  +0 large_block</P>

<P>エネルギータンク屋内1  +0  -5  +0 +20 energy_tank</P>

<P>宇宙空間宇宙1  +0  -0  +0  +0 space</P>

<P>暗礁空間宇宙2 +20 -20  +0  +0 asteroids</P>

<P>残骸宇宙2 +20 -20  +0  +0 wrecks</P>

<P>コロニー宇宙2 +20 -20  +0 +10 colony</P>

<P>宇宙要塞宇宙2 +30 -30 +10 +20 space_fortress</P>

<P>宇宙ドック宇宙2 +10 -10 +20 +30 space_dock</P>

<P>地球宇宙1  +0  -0  +0  +0 earth</P>

<P>月宇宙1  +0  -0  +0  +0 moon</P>

<P>火星宇宙1  +0  -0  +0  +0 mars</P>

<P>木星宇宙1  +0  -0  +0  +0 jupiter</P>

<P>土星宇宙1  +0  -0  +0  +0 saturn</P>

<P>惑星宇宙1  +0  -0  +0  +0 planet</P>

<P>衛星宇宙1  +0  -0  +0  +0 satellite</P>

<P>恒星宇宙1  +0  -0  +0  +0 star</P>

<P>超新星宇宙1  +0  -0  +0  +0 super_nova</P>

<P>星間ガス宇宙1  +0 -20  +0  +0 space_gas</P>

<P>宇宙気流宇宙2  +5  -5  +0  +0 space_current</P>

<P>彗星宇宙1  +0  -0  +0  +0 comet</P>

<P>ブラックホール宇宙1  +0  -0  +0  +0 black_hole</P>

<P>月面月面1  +0  -0  +0  +0 moon_ground</P>

<P>月の海月面1  +0  -0  +0  +0 moon_sea</P>

<P>クレーター(小)月面2 +20 -20  +0  +0 small_crater</P>

<P>クレーター(大)月面3 +20 -20  +0  +0 large_crater</P>

<P>月面都市月面2 +25 -25  +0 +10 moon_city</P>

<P>月面基地月面2 +30 -30 +10 +20 moon_base</P>

<P>平地(火星)陸1  +0  -0  +0  +0 mars_plain</P>

<P>荒れ地(火星)陸1  +0  -0  +0  +0 mars_waste_land</P>

<P>岩(火星)陸2  +5  -5  +0  +0 mars_rock</P>

<P>斜面(火星)陸2  +5  -5  +0  +0 mars_slope</P>

<P>崖(火星)空1  +0  -0  +0  +0 mars_cliff</P>

<P>クレーター(火星)陸2 +20 -20  +0  +0 mars_crater</P>

<P>火星都市陸2 +25 -25  +0 +10 mars_city</P>

<P>火星基地陸2 +30 -30 +10 +20 mars_base</P>

<P>－陸1  +0  -0  +0  +0 blank</P>

<P>これらの地形データは Data\System\terrain.txt に定義されています。詳しくは<A HREF="src7cro.htm">地形データ</A>の項を参照して下さい。</P>

<P>マップの種類は左上隅(1,1)の地形タイプで決定されます。マップの種類はターン開始時に流れるＢＧＭの種類の他、<A HREF="src373m.htm"><B>Organize</B>コマンド</A>の部隊編成リストに表示されるユニットの種類に影響します。</P>

<P><B>地形用ビットマップ</B></P>

<P>各地形のビットマップには "ビットマップ名"+数字+".bmp" という名前のビットマップファイルになっています(例、plain0.bmp, building2.bmp など)。なお、同じ地形のビットマップの番号は0からスタートし、4桁の数字で指定してください。</P>

<P><B>例</B> woods0000.bmp, woods0001.bmp, woods0002.bmp, ...</P>

<P>なお、最初の「0」の部分を省略したwoods1.bmpのような指定でも扱うことが出来ますが、ファイル一覧の見易さのため、4桁で指定することをお薦めします。また「0」を省略した指定の場合、下記の「Bitmap\Map\"ビットマップ名"」のフォルダに対するファイル検索が行われません。</P>

<P>地形用ビットマップは</P>

<P><B>(1) シナリオのあるフォルダ\Bitmap\Map\"ビットマップ名"</B></P>

<P><B>(2) シナリオのあるフォルダ\Bitmap\Map</B></P>

<P><B>(3) Src.exeのあるフォルダ\Bitmap\Map\"ビットマップ名"</B></P>

<P><B>(4) Src.exeのあるフォルダ\Bitmap\Map</B></P>

<P>の順で検索され、使用されます。</P>

<P><B>例</B> 平地のビットマップ(plain0000.bmp, plain0001.bmp, ...)は以下の順で検索</P>

<P>(1) シナリオのあるフォルダ\Bitmap\Map\plain</P>

<P>(2) シナリオのあるフォルダ\Bitmap\Map</P>

<P>(3) Src.exeのあるフォルダ\Bitmap\Map\plain</P>

<P>(4) Src.exeのあるフォルダ\Bitmap\Map</P>

<P>シナリオ独自のビットマップを使いたい場合はビットマップ名を</P>

<P>"ビットマップ名-"+数字+".bmp"</P>

<P>という形にしてください。数字は1から指定します。</P>

<P><B>例</B> woods-0001.bmp, woods-0002.bmp, woods-0003.bmp, ...</P>

<P>上記のように番号を指定したビットマップはMapEditの地形タイプ選択ウィンドウに地形名(ローカル) として表示されます。</P>

<P>シナリオ独自のビットマップをMapEditで選択できるようにするにはマップデータがシナリオと同じフォルダ内にある必要があります。最初にマップを作る際は一旦ローカルなビットマップを使わずにマップデータをセーブし、再読み込みを行ってください。</P>

</BODY>
</HTML>
